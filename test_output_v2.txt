
> invoicing-pipeline@0.0.1 test
> jest "src/rating/re-rating.service.spec.ts" "src/invoices/invoices.service.spec.ts" "--verbose"

PASS src/rating/re-rating.service.spec.ts
  ReRatingService
    ΓêÜ should be defined (13 ms)
    ΓêÜ should process late event and trigger rateUsage (2 ms)

PASS src/invoices/invoices.service.spec.ts
  InvoicesService
    ΓêÜ should be defined (14 ms)
    generateInvoice
      ΓêÜ should generate an invoice and group charges by metric type (8 ms)
      ΓêÜ should apply customer credits and reduce total (3 ms)
      ΓêÜ should apply regional tax (EU-DE - 19%) (2 ms)
      ΓêÜ should apply currency conversion (BRL - 5.0) (2 ms)
      ΓêÜ should generate a correction invoice if an issued invoice exists (2 ms)
    exportToCsv
      ΓêÜ should generate a CSV string (2 ms)
    findOne
      ΓêÜ should return an invoice with line items (1 ms)
      ΓêÜ should throw NotFoundException if invoice not found (17 ms)
    issueInvoice
      ΓêÜ should mark invoice as issued (1 ms)

Test Suites: 2 passed, 2 total
Tests:       12 passed, 12 total
Snapshots:   0 total
Time:        4.155 s
Ran all test suites matching /src\\rating\\re-rating.service.spec.ts|src\\invoices\\invoices.service.spec.ts/i.
